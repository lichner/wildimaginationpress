# SEO Validation Scripts

This directory contains validation scripts to ensure your Jekyll site is properly configured for search engine optimization (SEO).

## üöÄ Quick Start

Run all SEO validations with one command:

```bash
# From the project root
./_scripts/validate_seo.rb
```

## üìã Individual Validators

### Robots.txt Validation
```bash
./_scripts/validate_robots.rb
```

**Validates:**
- Proper robots.txt syntax
- User-agent directives
- Disallow/Allow path formats
- Sitemap URL format and accessibility
- Crawl-delay values
- Common typos and issues

### Sitemap.xml Validation
```bash
./_scripts/validate_sitemap.rb
```

**Validates:**
- XML structure and namespaces
- URL format and accessibility
- Priority values (0.0-1.0)
- Change frequency values
- Development URLs in production
- Overall sitemap compliance

## üîß Setup Requirements

Install required gems:

```bash
bundle install
```

Required gems:
- `nokogiri` - XML parsing for sitemap validation
- `colorize` - Colored terminal output

## üìÅ Files Validated

### robots.txt
**Location:** `robots.txt` (project root)
**Generated:** Static file with Liquid template variables
**Features:**
- Comprehensive crawl directives
- Development path exclusions
- UTM parameter blocking
- Sitemap location specification

### sitemap.xml
**Location:** `_site/sitemap.xml` (generated by Jekyll)
**Generated:** Automatically by `jekyll-sitemap` plugin
**Features:**
- SEO-optimized priority settings
- Proper change frequencies
- Complete site URL coverage
- XML schema compliance

## üéØ SEO Configuration

### Priority Settings
- **Homepage:** 1.0 (highest)
- **Books:** 0.9 (high - main content)
- **Pages:** 0.7 (medium)
- **Posts:** 0.8 (high)

### Change Frequencies
- **Homepage:** weekly
- **Books:** monthly (stable content)
- **Pages:** weekly
- **Posts:** weekly

## ‚ö° Integration with Development Workflow

### Pre-deployment Validation
Add to your deployment pipeline:

```bash
# Validate before build
./_scripts/validate_seo.rb

# Build if validation passes
if [ $? -eq 0 ]; then
  bundle exec jekyll build
else
  echo "‚ùå SEO validation failed. Fix issues before deploying."
  exit 1
fi
```

### Git Hooks
Add to `.git/hooks/pre-commit`:

```bash
#!/bin/bash
# Validate SEO files before commit
./_scripts/validate_seo.rb
```

## üîç Common Issues & Solutions

### Robots.txt Issues
- **Development URLs:** Check if localhost URLs made it into production
- **Path formats:** All paths must start with `/`
- **Typos:** Common directive misspellings are automatically detected

### Sitemap.xml Issues
- **Missing priorities:** Ensure `_config.yml` has sitemap defaults
- **Invalid URLs:** Check for malformed URLs in collections
- **Development URLs:** Production build should use proper domain

## üìä Validation Output

### Success Output
```
üöÄ Starting SEO Validation Suite for Wild Imagination Press
‚úÖ ALL VALIDATIONS PASSED!
üéâ Your site is SEO-optimized and ready for search engines.
```

### Error Output
```
‚ùå Errors (2):
  1. Line 15: Sitemap must be a valid HTTP/HTTPS URL
  2. Priority value out of range (0.0-1.0): 1.5
```

### Warning Output
```
‚ö†Ô∏è Warnings (1):
  1. Development URL found in sitemap: http://localhost:4000/
```

## üöÄ Next Steps After Validation

1. **Google Search Console:**
   - Submit sitemap: `https://yourdomain.com/sitemap.xml`
   - Test robots.txt with Google's robots.txt Tester

2. **Bing Webmaster Tools:**
   - Submit sitemap and verify robots.txt

3. **Monitor Indexing:**
   - Check search engine indexing status
   - Monitor crawl errors and warnings

## üõ†Ô∏è Customization

### Adding Custom Validation Rules

Extend the validators by modifying the respective class files:
- `validate_robots.rb` - Add custom robots.txt rules
- `validate_sitemap.rb` - Add custom sitemap validations
- `validate_seo.rb` - Add additional SEO checks

### Configuration

Edit `_config.yml` to adjust sitemap priorities and change frequencies:

```yaml
defaults:
  - scope:
      path: "special-pages"
    values:
      sitemap:
        priority: 0.8
        changefreq: daily
```

## üìö Resources

- [Google Robots.txt Specification](https://developers.google.com/search/docs/advanced/robots/robots_txt)
- [XML Sitemaps Protocol](https://www.sitemaps.org/protocol.html)
- [Jekyll Sitemap Plugin](https://github.com/jekyll/jekyll-sitemap)
- [Google Search Console](https://search.google.com/search-console)
